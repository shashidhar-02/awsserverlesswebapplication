<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Serverless App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding-top: 50px;
            background-color: #f5f5f5;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Welcome to My Serverless App</h1>
    <p>Login to access your app</p>
    <button onclick="login()">Login with Cognito</button>
    <button onclick="logout()">Logout</button>

    <script>
        // Replace with your S3 static website URL
        const redirectUri = "http://my-task-tracker-frontend.s3-website-us-east-1.amazonaws.com/";

        // Cognito configuration
        const domain = "https://us-east-1skhielm7h.auth.us-east-1.amazoncognito.com";
        const clientId = "52di8mn56ifnrt3htpd7ep66m";

        function login() {
            const loginUrl = `${domain}/login?response_type=token&client_id=${clientId}&redirect_uri=${redirectUri}`;
            window.location.href = loginUrl;
        }

        function logout() {
            const logoutUrl = `${domain}/logout?client_id=${clientId}&logout_uri=${redirectUri}`;
            window.location.href = logoutUrl;
        }

        // Optional: Show access token after login
        window.onload = function() {
            if (window.location.hash) {
                const hash = window.location.hash.substring(1);
                const params = new URLSearchParams(hash);
                const accessToken = params.get("access_token");
                if (accessToken) {
                    console.log("Cognito Access Token:", accessToken);
                    alert("Logged in successfully!");
                }
            }
        };
    </script>
</body>
</html>
